import{defineComponent as e,resolveComponent as s,openBlock as t,createBlock as a,ref as r,pushScopeId as n,popScopeId as l,Fragment as o,createVNode as u,toDisplayString as i,withScopeId as c,createStaticVNode as d,createTextVNode as h,inject as p,computed as m,renderList as y,onMounted as f,createCommentVNode as v,withDirectives as k,vModelText as b,vModelCheckbox as g,provide as w,createApp as _}from"https://cdn.jsdelivr.net/npm/vue@3.2.4/dist/vue.runtime.esm-browser.prod.js";import{u as j,c as I,a as A}from"./vendor.6b4f3343.js";import{DateTime as R}from"https://cdn.jsdelivr.net/npm/luxon@2.0.2/build/es6/luxon.js";import{Chart as x,BarElement as M,BarController as q,CategoryScale as B,LinearScale as H,Legend as S,Tooltip as Y}from"https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.esm.js";!function(e=".",s="__import__"){try{self[s]=new Function("u","return import(u)")}catch(t){const a=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[s]=e=>new Promise(((t,n)=>{const l=new URL(e,a);if(self[s].moduleMap[l])return t(self[s].moduleMap[l]);const o=new Blob([`import * as m from '${l}';`,`${s}.moduleMap['${l}']=m;`],{type:"text/javascript"}),u=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){n(new Error(`Failed to import: ${e}`)),r(u)},onload(){t(self[s].moduleMap[l]),r(u)}});document.head.appendChild(u)})),self[s].moduleMap={}}}("/chart-tests/assets/");var C=e({name:"Base"});C.render=function(e,r,n,l,o,u){const i=s("router-view");return t(),a(i,{key:e.$route.path})};var D=e({name:"HelloWorld",props:{msg:{type:String,required:!0}},setup:()=>({count:r(0)})});const F=c("data-v-3446e1d0");n("data-v-3446e1d0");const O=d('<p data-v-3446e1d0> Recommended IDE setup: <a href="https://code.visualstudio.com/" target="_blank" data-v-3446e1d0>VSCode</a> + <a href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" data-v-3446e1d0>Vetur</a> or <a href="https://github.com/johnsoncodehk/volar" target="_blank" data-v-3446e1d0>Volar</a> (if using <code data-v-3446e1d0>&lt;script setup&gt;</code>) </p><p data-v-3446e1d0>See <code data-v-3446e1d0>README.md</code> for more information.</p><p data-v-3446e1d0><a href="https://vitejs.dev/guide/features.html" target="_blank" data-v-3446e1d0>Vite Docs</a> | <a href="https://v3.vuejs.org/" target="_blank" data-v-3446e1d0>Vue 3 Docs</a></p>',3),U=u("p",null,[h(" Edit "),u("code",null,"components/HelloWorld.vue"),h(" to test hot module replacement. ")],-1);l();const L=F(((e,s,r,n,l,c)=>(t(),a(o,null,[u("h1",null,i(e.msg),1),O,u("button",{onClick:s[1]||(s[1]=s=>e.count++)},"count is: "+i(e.count),1),U],64))));D.render=L,D.__scopeId="data-v-3446e1d0";var T=e({name:"Issue",props:{issue:{type:Object,required:!0}},setup(e){const s=p("arcs",new Map),t=p("showArcs",!1),a=m((()=>{if(t.value){return(s.value.get(e.issue.arc)||{}).color||"gray-300"}return"gray-300"}));return{showArcs:t,arcs:s,color:a}}});T.render=function(e,s,r,n,l,o){return t(),a("div",{class:["issue",{released:e.issue.released&&!e.showArcs,[e.color]:e.showArcs}]},null,2)};var V={name:"arcs-info",components:{Issue:T},props:{arcs:Object}};const E=c("data-v-9e9f034c");n("data-v-9e9f034c");const $={class:"arcs"},W={class:"arc-description"};l();const z=E(((e,s,r,n,l,c)=>(t(),a("div",$,[(t(!0),a(o,null,y(r.arcs,(([e,s])=>(t(),a("div",{key:e,class:"arc-item"},[u("div",{class:["issue",s.color]},null,2),u("div",W,i(s.name),1)])))),128))]))));V.render=z,V.__scopeId="data-v-9e9f034c";var G=e({name:"Attribution",props:{seriesInfo:{type:Object}},computed:{authors(){return this.seriesInfo.attribution.authors},sources(){return this.seriesInfo.attribution.sources}}});const N=c("data-v-28190b3d");n("data-v-28190b3d");const X=u("p",null,[h(" created by "),u("a",{target:"_blank",href:"https://www.reddit.com/user/rentzhx3/"}," /u/rentzhx3 ")],-1),J=u("p",null,[h(" inspired by "),u("a",{target:"_blank",href:"https://hunterxhunter.fandom.com/wiki/User_blog:MrGenial11/Hunter_x_Hunter_Hiatus_Chart"}," MrGenial11's "),h(" hiatus chart ")],-1),P={key:0},Q=h(" and "),K=h(" ,Â "),Z=u("p",null,"With partial or complete data from:",-1),ee=h(" and "),se=h(" ,Â "),te=u("p",null,[u("a",{target:"_blank",href:"https://github.com/hiatus-hiatus/hiatus-hiatus.github.io/"}," source code ")],-1);l();const ae=N(((e,s,r,n,l,c)=>(t(),a("footer",null,[X,J,e.authors?(t(),a("p",P,[h(i(e.seriesInfo.name)+" data submited by ",1),(t(!0),a(o,null,y(e.authors,((s,r)=>(t(),a(o,null,[e.authors.length>1&&r>0?(t(),a(o,{key:0},[r===e.authors.length-1||2===e.authors.length?(t(),a(o,{key:0},[Q],64)):(t(),a(o,{key:1},[K],64))],64)):v("",!0),u("a",{href:s.link,target:"_blank"},i(s.name),9,["href"])],64)))),256))])):v("",!0),e.sources?(t(),a(o,{key:1},[Z,(t(!0),a(o,null,y(e.sources,((s,r)=>(t(),a(o,null,[e.sources.length>1&&r>0?(t(),a(o,{key:0},[r===s.length-1||2===e.sources.length?(t(),a(o,{key:0},[ee],64)):(t(),a(o,{key:1},[se],64))],64)):v("",!0),u("a",{href:s.link,target:"_blank"},i(s.name),9,["href"])],64)))),256))],64)):v("",!0),te]))));G.render=ae,G.__scopeId="data-v-28190b3d";var re=e({name:"Faq",props:{items:{type:Object,required:!0},latestRelease:{type:Object,required:!0}},computed:{latestIssueDate(){return R.fromISO(this.latestRelease.date,{zone:"Asia/Tokyo"})},formattedDate(){return this.latestIssueDate.toLocaleString(R.DATE_FULL,{locale:"en"})},diff(){const e=R.now();let s=e.diff(this.latestIssueDate,["years","months","days"]),t=e.diff(this.latestIssueDate,["days"]);return{years:s.years,months:s.months,days:s.days,totalDays:Math.floor(t.days)}}}});const ne={style:{"text-align":"left"}},le=u("h1",null,"When was the last chapter released?",-1),oe=u("h1",null,"How long has it been since the last chapter?",-1),ue=h("days ðŸŽ‰"),ie=h("days"),ce=h(" . Aproximately "),de=h("years"),he=h("year"),pe=h(" and"),me=h(" months."),ye=h(" month.");re.render=function(e,s,r,n,l,c){return t(),a("div",ne,[u("section",null,[le,h(" Chapter "+i(e.latestRelease.chapter)+" was released on "+i(e.formattedDate)+". ",1)]),u("section",null,[oe,h(" "+i(e.diff.totalDays)+" ",1),1e3===e.diff.totalDays?(t(),a(o,{key:0},[ue],64)):(t(),a(o,{key:1},[ie],64)),ce,e.diff.years>0?(t(),a(o,{key:2},[h(i(e.diff.years)+" ",1),e.diff.years>1?(t(),a(o,{key:0},[de],64)):(t(),a(o,{key:1},[he],64))],64)):v("",!0),e.diff.months>0?(t(),a(o,{key:3},[e.diff.years?(t(),a(o,{key:0},[pe],64)):v("",!0),h(" "+i(e.diff.months)+" ",1),e.diff.months>1?(t(),a(o,{key:1},[me],64)):(t(),a(o,{key:2},[ye],64))],64)):v("",!0)]),(t(!0),a(o,null,y(e.items,(e=>(t(),a("section",null,[u("h1",null,i(e.question),1),u("p",null,i(e.answer),1)])))),256))])};var fe=e({name:"MajorStreaks",props:{issues:{type:Object,required:!0},threshold:{type:Number,required:!0}},setup:e=>{const s=r(!0),t=r(!0),{streaks:a}=function(e){const s=r([]);let t=[...e].reverse().reduce(((e,s)=>{if(e.current&&s.released==e.current.released)e.current.count++,e.current.end=s;else{let t={start:s,end:s,count:1,released:s.released};e.current=t,e.streaks.push(t)}return e}),{streaks:[],current:null});return s.value=t.streaks,{streaks:s}}(e.issues),n=m((()=>Math.max(...a.value.map((e=>e.count))))),l=r(e.threshold),o=r(!1),u=m((()=>a.value.filter((e=>e.count>=l.value)).filter((e=>e.released&&t.value||!e.released&&s.value)))),i=r(!1);return{showBreaks:s,showReleases:t,showFilters:i,threshold:l,longestStreak:n,includeReleases:o,filteredStreaks:u}}});const ve=c("data-v-1c53eb16");n("data-v-1c53eb16");const ke={class:"section"},be=h(" Streaks "),ge={class:"material-icons"},we=h("expand_less"),_e=h("expand_more"),je={key:0,class:"filters"},Ie={class:"filter-threshold"},Ae=u("label",null," Threshold: ",-1),Re={class:"filter-include-releases"},xe=u("div",{class:"issue hiatus",style:{display:"inline-block","margin-bottom":"0"}},null,-1),Me=h(" Hiatus streaks "),qe=u("div",{class:"issue released",style:{display:"inline-block","margin-bottom":"0"}},null,-1),Be=h(" Release streaks "),He=u("thead",null,[u("tr",null,[u("th",null,"Start"),u("th",null,"End"),u("th",null,"Chapters"),u("th",null,"Streak (issues)")])],-1),Se=h("Special"),Ye={class:"streak-col",style:{width:"70%"}};l();const Ce=ve(((e,s,r,n,l,c)=>(t(),a("div",ke,[u("div",{class:"section-title clickable",onClick:s[1]||(s[1]=s=>e.showFilters=!e.showFilters)},[be,u("span",ge,[e.showFilters?(t(),a(o,{key:0},[we],64)):(t(),a(o,{key:1},[_e],64))])]),e.showFilters?(t(),a("div",je,[u("div",Ie,[Ae,k(u("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=s=>e.threshold=s),min:"1"},null,512),[[b,e.threshold]]),k(u("input",{type:"range","onUpdate:modelValue":s[3]||(s[3]=s=>e.threshold=s),min:"1",max:e.longestStreak},null,8,["max"]),[[b,e.threshold]])]),u("div",Re,[u("label",null,[k(u("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=s=>e.showBreaks=s)},null,512),[[g,e.showBreaks]]),xe,Me]),u("label",null,[k(u("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=s=>e.showReleases=s)},null,512),[[g,e.showReleases]]),qe,Be])])])):v("",!0),u("table",null,[He,(t(!0),a(o,null,y(e.filteredStreaks,(s=>(t(),a("tr",null,[u("td",null,i(s.start.year)+"/"+i(s.start.number),1),u("td",null,i(s.end.year)+"/"+i(s.end.number),1),u("td",null,[s.released?(t(),a(o,{key:0},[-1!==s.start.chapter?(t(),a(o,{key:0},[h(i(s.start.chapter)+" ",1),s.start.chapter!==s.end.chapter?(t(),a(o,{key:0},[h(" - "+i(s.end.chapter),1)],64)):v("",!0)],64)):(t(),a(o,{key:1},[Se],64))],64)):v("",!0)]),u("td",Ye,[u("div",{style:{width:s.count/e.longestStreak*100+"%"},class:["streak",{hiatus:!s.released,released:s.released}]},i(s.count),7)])])))),256))])]))));fe.render=Ce,fe.__scopeId="data-v-1c53eb16";var De={name:"MainChart",components:{Issue:T},props:{issuesByYear:{type:Object}}};const Fe={class:"chart-row"},Oe={class:"year"},Ue={class:"issues-list"};De.render=function(e,r,n,l,c,d){const h=s("issue");return t(!0),a(o,null,y(n.issuesByYear,(([e,s])=>(t(),a("div",Fe,[u("div",Oe,i(e),1),u("div",Ue,[(t(!0),a(o,null,y(s,(e=>(t(),a(h,{issue:e},null,8,["issue"])))),256))])])))),256)};var Le=e({name:"TrendByYear",components:{Issue:T},props:{issuesByYear:{type:Object,required:!0}},setup(e){const s=r(null),t=r(null),a=Array.from(e.issuesByYear.keys()).reverse(),n=Array.from(e.issuesByYear.values()).map((e=>-1*e.filter((e=>!e.released)).length)).reverse(),l=Array.from(e.issuesByYear.values()).map((e=>e.filter((e=>e.released)).length)).reverse();return f((()=>{const e=s.value.getContext("2d");t.value=new x(e,{type:"bar",data:{labels:a,datasets:[{label:"Releases",data:l,backgroundColor:"rgba(51,181,229, 0.9)"},{label:"Breaks",data:n,backgroundColor:"rgba(255,68,68, 0.9)"}]},options:{maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:e=>Math.abs(e.raw)}}},scales:{y:{stacked:!0,ticks:{callback:e=>Math.abs(e)}},x:{stacked:!0}}}})})),{canvas:s,chart:t}}});const Te={class:"section"},Ve=u("div",{class:"section-title"},"Trend",-1),Ee={ref:"canvas",height:"256"};Le.render=function(e,s,r,n,l,o){return t(),a("div",Te,[Ve,u("div",null,[u("canvas",Ee,null,512)])])};var $e=e({name:"RelatedLinks",setup(){const e=j(),s=[{name:"hxh",description:"HunterXHunter"},{name:"yuyu",description:"YuYuHakusho"}];return{charts:m((()=>s.filter((s=>s.name!=e.name))))}}});const We=c("data-v-2be5c93c");n("data-v-2be5c93c");const ze={class:"section"},Ge=u("div",{class:"section-title"},"Other charts",-1),Ne={class:"links"};l();const Xe=We(((e,r,n,l,c,d)=>{const p=s("router-link");return t(),a("div",ze,[Ge,u("div",Ne,[(t(!0),a(o,null,y(e.charts,(e=>(t(),a(p,{to:{name:e.name}},{default:We((()=>[h(i(e.description),1)])),_:2},1032,["to"])))),256))])])}));$e.render=Xe,$e.__scopeId="data-v-2be5c93c";var Je=e({name:"SeriesInfo",components:{RelatedLinks:$e,TrendByYear:Le,MainChart:De,MajorStreaks:fe,Faq:re,Attribution:G,ArcsInfo:V,Issue:T,HelloWorld:D},setup(){const e=j(),s=r(!1),{seriesInfo:t,loading:a}=function(e){const s=r(!1),t=r({name:"",ongoing:!1,streaksThreshold:0,showFaq:!1,arcs:new Map,attribution:{sources:[],authors:[]}});return f((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/info.json`),r=await a.json();for(const e of r.arcs)t.value.arcs.set(e.key,e);t.value.name=r.series_name,t.value.ongoing=r.ongoing,t.value.streaksThreshold=r.streaks_threshold,t.value.showFaq=r.show_faq,t.value.faq=r.faq,t.value.attribution=r.attribution}finally{s.value=!1}})),{seriesInfo:t,loading:s}}(e.meta.dir),{issues:n,loading:l}=function(e){const s=r(!1),t=r(new Array);return f((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/issues.json`);t.value=await a.json()}finally{s.value=!1}})),{issues:t,loading:s}}(e.meta.dir),o=m((()=>a.value||l.value)),u=m((()=>n.value.find((e=>e.released))));w("arcs",m((()=>t.value.arcs))),w("showArcs",s);const i=new Map(Object.entries({released:{key:"released",color:"released",name:"Appears in Jump"},hiatus:{key:"hiatus",color:"hiatus",name:"Hiatus"}})),c=m((()=>s.value?t.value.arcs:i));return{seriesInfo:t,issues:n,arcs:c,showArcs:s,loading:o,latestRelease:u}},computed:{issuesByYear(){let e=new Map;for(const s of this.issues){const t=e.get(s.year)||[];t.push(s),e.set(s.year,t)}return e}}});const Pe={class:"section"},Qe=u("button",{class:"fab"},"Arcs",-1),Ke={key:0,class:"section"},Ze=u("div",{class:"section-title"},"Frequently Asked Questions",-1);Je.render=function(e,r,n,l,c,d){const p=s("main-chart"),m=s("arcs-info"),y=s("faq"),f=s("major-streaks"),k=s("related-links"),b=s("trend-by-year"),g=s("attribution");return t(),a(o,null,[u("div",Pe,[u("div",{class:"section-title main",onClick:r[1]||(r[1]=s=>e.showArcs=!e.showArcs)},[h(i(e.seriesInfo.name)+" Hiatus Chart ",1),Qe]),u(p,{"issues-by-year":e.issuesByYear},null,8,["issues-by-year"]),u(m,{arcs:e.arcs},null,8,["arcs"])]),e.seriesInfo.showFaq&&!e.loading?(t(),a("article",Ke,[Ze,u(y,{items:e.seriesInfo.faq,"latest-release":e.latestRelease},null,8,["items","latest-release"])])):v("",!0),e.issues.length>0?(t(),a(f,{key:1,issues:e.issues,threshold:e.seriesInfo.streaksThreshold},null,8,["issues","threshold"])):v("",!0),u(k),e.loading?v("",!0):(t(),a(b,{key:2,"issues-by-year":e.issuesByYear},null,8,["issues-by-year"])),e.loading?v("",!0):(t(),a(g,{key:3,"series-info":e.seriesInfo},null,8,["series-info"]))],64)};const es=[{path:"/",name:"hxh",component:Je,meta:{dir:"HunterXHunter"}},{path:"/YuYuHakusho",name:"yuyu",meta:{dir:"YuYuHakusho"},component:Je}],ss=I({history:A(),routes:es});x.register(M,q,B,H,S,Y),_(C).use(ss).mount("#app");
