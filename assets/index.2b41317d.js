import{u as e,c as s,a as t,i as a}from"./vendor.6bb935a7.js";import{defineComponent as r,ref as n,pushScopeId as o,popScopeId as l,openBlock as i,createBlock as u,Fragment as c,createVNode as d,toDisplayString as h,withScopeId as p,createStaticVNode as m,createTextVNode as y,inject as f,computed as v,renderList as k,onMounted as b,createCommentVNode as g,withDirectives as w,vModelText as _,vModelCheckbox as j,resolveComponent as I,vShow as q,provide as A,nextTick as R,reactive as M,createApp as S}from"https://cdn.jsdelivr.net/npm/vue@3.2.4/dist/vue.runtime.esm-browser.prod.js";import{DateTime as H}from"https://cdn.jsdelivr.net/npm/luxon@2.0.2/build/es6/luxon.js";import{Chart as x,BarElement as D,BarController as Y,CategoryScale as B,LinearScale as C,Legend as $,Tooltip as U}from"https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.esm.js";!function(e=".",s="__import__"){try{self[s]=new Function("u","return import(u)")}catch(t){const a=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[s]=e=>new Promise(((t,n)=>{const o=new URL(e,a);if(self[s].moduleMap[o])return t(self[s].moduleMap[o]);const l=new Blob([`import * as m from '${o}';`,`${s}.moduleMap['${o}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){n(new Error(`Failed to import: ${e}`)),r(i)},onload(){t(self[s].moduleMap[o]),r(i)}});document.head.appendChild(i)})),self[s].moduleMap={}}}("/assets/");var F=r({name:"HelloWorld",props:{msg:{type:String,required:!0}},setup:()=>({count:n(0)})});const O=p("data-v-3446e1d0");o("data-v-3446e1d0");const E=m('<p data-v-3446e1d0> Recommended IDE setup: <a href="https://code.visualstudio.com/" target="_blank" data-v-3446e1d0>VSCode</a> + <a href="https://marketplace.visualstudio.com/items?itemName=octref.vetur" target="_blank" data-v-3446e1d0>Vetur</a> or <a href="https://github.com/johnsoncodehk/volar" target="_blank" data-v-3446e1d0>Volar</a> (if using <code data-v-3446e1d0>&lt;script setup&gt;</code>) </p><p data-v-3446e1d0>See <code data-v-3446e1d0>README.md</code> for more information.</p><p data-v-3446e1d0><a href="https://vitejs.dev/guide/features.html" target="_blank" data-v-3446e1d0>Vite Docs</a> | <a href="https://v3.vuejs.org/" target="_blank" data-v-3446e1d0>Vue 3 Docs</a></p>',3),T=d("p",null,[y(" Edit "),d("code",null,"components/HelloWorld.vue"),y(" to test hot module replacement. ")],-1);l();const L=O(((e,s,t,a,r,n)=>(i(),u(c,null,[d("h1",null,h(e.msg),1),E,d("button",{onClick:s[1]||(s[1]=s=>e.count++)},"count is: "+h(e.count),1),T],64))));F.render=L,F.__scopeId="data-v-3446e1d0";var V=r({name:"Issue",props:{issue:{type:Object,required:!0}},setup(e){const s=f("arcs",new Map),t=f("showArcs",!1),a=v((()=>{let s="";return e.issue.chapter&&(s+=`Chapter: ${e.issue.chapter}. `),s+=`Issue: ${e.issue.number}`,s})),r=v((()=>{if(t.value){return(s.value.get(e.issue.arc)||{}).color||"gray-300"}return"gray-300"}));return{title:a,showArcs:t,arcs:s,color:r}}});V.render=function(e,s,t,a,r,n){return i(),u("div",{class:["issue",{released:e.issue.released&&!e.showArcs,[e.color]:e.showArcs}],title:e.title},null,10,["title"])};var N={name:"arcs-info",components:{Issue:V},props:{arcs:Object}};const W=p("data-v-5c77b696");o("data-v-5c77b696");const z={class:"arcs"},P={class:"arc-description"};l();const Q=W(((e,s,t,a,r,n)=>(i(),u("div",z,[(i(!0),u(c,null,k(t.arcs,(([e,s])=>(i(),u("div",{key:e,class:"arc-item"},[d("div",{class:["issue",s.color]},null,2),d("div",P,h(s.name),1)])))),128))]))));N.render=Q,N.__scopeId="data-v-5c77b696";var G=r({name:"Attribution",props:{seriesInfo:{type:Object}},computed:{authors(){return this.seriesInfo.attribution.authors},sources(){return this.seriesInfo.attribution.sources}}});const X=p("data-v-28190b3d");o("data-v-28190b3d");const J=d("p",null,[y(" created by "),d("a",{target:"_blank",href:"https://www.reddit.com/user/rentzhx3/"}," /u/rentzhx3 ")],-1),K=d("p",null,[y(" inspired by "),d("a",{target:"_blank",href:"https://hunterxhunter.fandom.com/wiki/User_blog:MrGenial11/Hunter_x_Hunter_Hiatus_Chart"}," MrGenial11's "),y(" hiatus chart ")],-1),Z={key:0},ee=y(" and "),se=y(" ,Â "),te=d("p",null,"With partial or complete data from:",-1),ae=y(" and "),re=y(" ,Â "),ne=d("p",null,[d("a",{target:"_blank",href:"https://github.com/hiatus-hiatus/hiatus-hiatus.github.io/"}," source code ")],-1);l();const oe=X(((e,s,t,a,r,n)=>(i(),u("footer",null,[J,K,e.authors?(i(),u("p",Z,[y(h(e.seriesInfo.name)+" data submited by ",1),(i(!0),u(c,null,k(e.authors,((s,t)=>(i(),u(c,null,[e.authors.length>1&&t>0?(i(),u(c,{key:0},[t===e.authors.length-1||2===e.authors.length?(i(),u(c,{key:0},[ee],64)):(i(),u(c,{key:1},[se],64))],64)):g("",!0),d("a",{href:s.link,target:"_blank"},h(s.name),9,["href"])],64)))),256))])):g("",!0),e.sources?(i(),u(c,{key:1},[te,(i(!0),u(c,null,k(e.sources,((s,t)=>(i(),u(c,null,[e.sources.length>1&&t>0?(i(),u(c,{key:0},[t===s.length-1||2===e.sources.length?(i(),u(c,{key:0},[ae],64)):(i(),u(c,{key:1},[re],64))],64)):g("",!0),d("a",{href:s.link,target:"_blank"},h(s.name),9,["href"])],64)))),256))],64)):g("",!0),ne]))));G.render=oe,G.__scopeId="data-v-28190b3d";var le=r({name:"Faq",props:{items:{type:Object,required:!0},latestRelease:{type:Object,required:!0}},computed:{latestIssueDate(){return H.fromISO(this.latestRelease.date,{zone:"Asia/Tokyo"})},formattedDate(){return this.latestIssueDate.toLocaleString(H.DATE_FULL,{locale:"en"})},diff(){const e=H.now();let s=e.diff(this.latestIssueDate,["years","months","days"]),t=e.diff(this.latestIssueDate,["days"]);return{years:s.years,months:s.months,days:s.days,totalDays:Math.floor(t.days)}}}});const ie={style:{"text-align":"left"}},ue=d("h1",null,"When was the last chapter released?",-1),ce=d("h1",null,"How long has it been since the last chapter?",-1),de=y("days ðŸŽ‰."),he=y("days."),pe=y(" Aproximately "),me=y("years"),ye=y("year"),fe=y(" and"),ve=y(" months."),ke=y(" month.");le.render=function(e,s,t,a,r,n){return i(),u("div",ie,[d("section",null,[ue,y(" Chapter "+h(e.latestRelease.chapter)+" was released on "+h(e.formattedDate)+". ",1)]),d("section",null,[ce,y(" "+h(e.diff.totalDays)+" ",1),1e3===e.diff.totalDays?(i(),u(c,{key:0},[de],64)):(i(),u(c,{key:1},[he],64)),pe,e.diff.years>0?(i(),u(c,{key:2},[y(h(e.diff.years)+" ",1),e.diff.years>1?(i(),u(c,{key:0},[me],64)):(i(),u(c,{key:1},[ye],64))],64)):g("",!0),e.diff.months>0?(i(),u(c,{key:3},[e.diff.years?(i(),u(c,{key:0},[fe],64)):g("",!0),y(" "+h(e.diff.months)+" ",1),e.diff.months>1?(i(),u(c,{key:1},[ve],64)):(i(),u(c,{key:2},[ke],64))],64)):g("",!0)]),(i(!0),u(c,null,k(e.items,(e=>(i(),u("section",null,[d("h1",null,h(e.question),1),d("p",null,h(e.answer),1)])))),256))])};var be=r({name:"MajorStreaks",props:{issues:{type:Object,required:!0},threshold:{type:Number,required:!0}},setup:e=>{const s=n(!0),t=n(!0),{streaks:a}=function(e){const s=n([]);let t=[...e].reverse().reduce(((e,s)=>{if(e.current&&s.released==e.current.released)e.current.count++,e.current.end=s;else{let t={start:s,end:s,count:1,released:s.released};e.current=t,e.streaks.push(t)}return e}),{streaks:[],current:null});return s.value=t.streaks,{streaks:s}}(e.issues),r=v((()=>Math.max(...a.value.map((e=>e.count))))),o=n(e.threshold),l=n(!1),i=v((()=>a.value.filter((e=>e.count>=o.value)).filter((e=>e.released&&t.value||!e.released&&s.value)))),u=n(!1);return{showBreaks:s,showReleases:t,showFilters:u,threshold:o,longestStreak:r,includeReleases:l,filteredStreaks:i}}});const ge=p("data-v-678472d2");o("data-v-678472d2");const we={class:"section"},_e=y(" Streaks "),je={class:"material-icons"},Ie=y("expand_less"),qe=y("expand_more"),Ae={key:0,class:"filters"},Re={class:"filter-threshold"},Me=d("label",null," Threshold: ",-1),Se={class:"filter-include-releases"},He=d("div",{class:"issue hiatus",style:{display:"inline-block","margin-bottom":"0"}},null,-1),xe=y(" Hiatus streaks "),De=d("div",{class:"issue released",style:{display:"inline-block","margin-bottom":"0"}},null,-1),Ye=y(" Release streaks "),Be=d("thead",null,[d("tr",null,[d("th",null,"Start"),d("th",null,"End"),d("th",null,"Chapters"),d("th",null,"Streak (total issues)")])],-1),Ce=y("Special"),$e={class:"streak-col"};l();const Ue=ge(((e,s,t,a,r,n)=>(i(),u("div",we,[d("div",{class:"section-title clickable",onClick:s[1]||(s[1]=s=>e.showFilters=!e.showFilters)},[_e,d("span",je,[e.showFilters?(i(),u(c,{key:0},[Ie],64)):(i(),u(c,{key:1},[qe],64))])]),e.showFilters?(i(),u("div",Ae,[d("div",Re,[Me,w(d("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=s=>e.threshold=s),min:"1"},null,512),[[_,e.threshold]]),w(d("input",{type:"range","onUpdate:modelValue":s[3]||(s[3]=s=>e.threshold=s),min:"1",max:e.longestStreak},null,8,["max"]),[[_,e.threshold]])]),d("div",Se,[d("label",null,[w(d("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=s=>e.showBreaks=s)},null,512),[[j,e.showBreaks]]),He,xe]),d("label",null,[w(d("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=s=>e.showReleases=s)},null,512),[[j,e.showReleases]]),De,Ye])])])):g("",!0),d("table",null,[Be,(i(!0),u(c,null,k(e.filteredStreaks,(s=>(i(),u("tr",null,[d("td",null,h(s.start.year)+"/"+h(s.start.number),1),d("td",null,h(s.end.year)+"/"+h(s.end.number),1),d("td",null,[s.released?(i(),u(c,{key:0},[-1!==s.start.chapter?(i(),u(c,{key:0},[y(h(s.start.chapter)+" ",1),s.start.chapter!==s.end.chapter?(i(),u(c,{key:0},[y(" - "+h(s.end.chapter),1)],64)):g("",!0)],64)):(i(),u(c,{key:1},[Ce],64))],64)):g("",!0)]),d("td",$e,[d("div",{style:{width:s.count/e.longestStreak*100+"%"},class:["streak",{hiatus:!s.released,released:s.released}]},h(s.count),7)])])))),256))])]))));be.render=Ue,be.__scopeId="data-v-678472d2";var Fe={name:"MainChart",components:{Issue:V},props:{issuesByYear:{type:Object,required:!0},loading:{type:Boolean,required:!1}},computed:{issues(){if(this.loading){const e=new Map;for(const s in[...Array(23).keys()]){const t=[];e.set(s,t);for(const e of[...Array(48).keys()])t.push({year:s,number:e})}return e}return this.issuesByYear}}};const Oe={class:"rows"},Ee={class:"chart-row"},Te={class:"year"},Le={class:"issues-list"};Fe.render=function(e,s,t,a,r,n){const o=I("issue");return i(),u("div",Oe,[(i(!0),u(c,null,k(n.issues,(([e,s])=>(i(),u("div",Ee,[d("div",Te,h(e),1),d("div",Le,[(i(!0),u(c,null,k(s,(e=>(i(),u(o,{issue:e},null,8,["issue"])))),256))])])))),256))])};var Ve=r({name:"TrendByYear",components:{Issue:V},props:{issuesByYear:{type:Object,required:!0}},setup(e){const s=n(null),t=n(null),a=Array.from(e.issuesByYear.keys()).reverse(),r=Array.from(e.issuesByYear.values()).map((e=>-1*e.filter((e=>!e.released)).length)).reverse(),o=Array.from(e.issuesByYear.values()).map((e=>e.filter((e=>e.released)).length)).reverse();return b((()=>{const e=s.value.getContext("2d");t.value=new x(e,{type:"bar",data:{labels:a,datasets:[{label:"Releases",data:o,backgroundColor:"rgba(51,181,229, 0.9)"},{label:"Breaks",data:r,backgroundColor:"rgba(255,68,68, 0.9)"}]},options:{maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:e=>Math.abs(e.raw)}}},scales:{y:{stacked:!0,ticks:{callback:e=>Math.abs(e)}},x:{stacked:!0}}}})})),{canvas:s,chart:t}}});const Ne={class:"section"},We=d("div",{class:"section-title"},"Trend",-1),ze={ref:"canvas",height:"256"};Ve.render=function(e,s,t,a,r,n){return i(),u("div",Ne,[We,d("div",null,[d("canvas",ze,null,512)])])};var Pe=r({name:"RelatedLinks",setup(){const s=e(),t=[{name:"hxh",description:"HunterXHunter"},{name:"yuyu",description:"YuYuHakusho"}];return{charts:v((()=>t.filter((e=>e.name!=s.name))))}}});const Qe=p("data-v-2be5c93c");o("data-v-2be5c93c");const Ge={class:"section"},Xe=d("div",{class:"section-title"},"Other charts",-1),Je={class:"links"};l();const Ke=Qe(((e,s,t,a,r,n)=>{const o=I("router-link");return i(),u("div",Ge,[Xe,d("div",Je,[(i(!0),u(c,null,k(e.charts,(e=>(i(),u(o,{to:{name:e.name}},{default:Qe((()=>[y(h(e.description),1)])),_:2},1032,["to"])))),256))])])}));Pe.render=Ke,Pe.__scopeId="data-v-2be5c93c";const Ze={name:"Disqus",inject:["$disqus"],created(){},mounted(){this.$disqus.reset()}},es={class:"section",id:"disqus_thread"};Ze.render=function(e,s,t,a,r,n){return w((i(),u("div",es,null,512)),[[q,n.$disqus.ready]])};var ss=r({name:"SeriesInfo",components:{Disqus:Ze,RelatedLinks:Pe,TrendByYear:Ve,MainChart:Fe,MajorStreaks:be,Faq:le,Attribution:G,ArcsInfo:N,Issue:V,HelloWorld:F},setup(){const s=e(),t=n(!1),{seriesInfo:a,loading:r}=function(e){const s=n(!1),t=n({name:"",ongoing:!1,streaksThreshold:0,showFaq:!1,arcs:new Map,attribution:{sources:[],authors:[]}});return b((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/info.json`),r=await a.json();for(const e of r.arcs)t.value.arcs.set(e.key,e);t.value.name=r.series_name,t.value.ongoing=r.ongoing,t.value.streaksThreshold=r.streaks_threshold,t.value.showFaq=r.show_faq,t.value.faq=r.faq,t.value.attribution=r.attribution}finally{s.value=!1}})),{seriesInfo:t,loading:s}}(s.meta.dir),{issues:o,loading:l}=function(e){const s=n(!1),t=n(new Array);return b((async()=>{try{s.value=!0;const a=await fetch(`/data/${e}/issues.json`);t.value=await a.json()}finally{s.value=!1}})),{issues:t,loading:s}}(s.meta.dir),i=v((()=>r.value||l.value)),u=v((()=>o.value.find((e=>e.released))));A("arcs",v((()=>a.value.arcs))),A("showArcs",t);const c=new Map(Object.entries({released:{key:"released",color:"released",name:"Appears in Jump"},hiatus:{key:"hiatus",color:"hiatus",name:"Hiatus"}})),d=v((()=>t.value?a.value.arcs:c));return{seriesInfo:a,issues:o,arcs:d,showArcs:t,loading:i,latestRelease:u}},computed:{issuesByYear(){let e=new Map;for(const s of this.issues){const t=e.get(s.year)||[];t.push(s),e.set(s.year,t)}for(const s of e.values())s.reverse();return e}}});const ts={class:"section"},as={key:0,class:"section"},rs=d("div",{class:"section-title"},"Frequently Asked Questions",-1);ss.render=function(e,s,t,a,r,n){const o=I("main-chart"),l=I("arcs-info"),c=I("faq"),p=I("major-streaks"),m=I("related-links"),y=I("trend-by-year"),f=I("disqus"),v=I("attribution");return i(),u("div",{class:{loading:e.loading}},[d("div",ts,[d("div",{class:"section-title main",onClick:s[1]||(s[1]=s=>e.showArcs=!e.showArcs)},h(e.seriesInfo.name)+" Hiatus Chart ",1),w(d("button",{class:"fab",onClick:s[2]||(s[2]=s=>e.showArcs=!e.showArcs)}," Arcs ",512),[[q,!e.loading]]),d(o,{"issues-by-year":e.issuesByYear,loading:e.loading},null,8,["issues-by-year","loading"]),e.loading?g("",!0):(i(),u(l,{key:0,arcs:e.arcs},null,8,["arcs"]))]),e.seriesInfo.showFaq&&!e.loading?(i(),u("article",as,[rs,d(c,{items:e.seriesInfo.faq,"latest-release":e.latestRelease},null,8,["items","latest-release"])])):g("",!0),e.loading?g("",!0):(i(),u(p,{key:1,issues:e.issues,threshold:e.seriesInfo.streaksThreshold},null,8,["issues","threshold"])),d(m),e.loading?g("",!0):(i(),u(y,{key:2,"issues-by-year":e.issuesByYear},null,8,["issues-by-year"])),d(f),e.loading?g("",!0):(i(),u(v,{key:3,"series-info":e.seriesInfo},null,8,["series-info"]))],2)};const ns=[{path:"/",name:"hxh",component:ss,meta:{dir:"HunterXHunter",title:"HUNTERÃ—HUNTER"}},{path:"/YuYuHakusho",name:"yuyu",meta:{dir:"YuYuHakusho",title:"Yu Yu Hakusho"},component:ss}],os=s({history:t(),routes:ns});os.beforeEach((async e=>{await R((()=>{document.title=`${e.meta.title} Hiatus Chart`}))}));var ls=r({name:"App"});ls.render=function(e,s,t,a,r,n){const o=I("router-view");return i(),u(o,{key:e.$route.path})};const is={install(e,s,t){const a=M({ready:!1,reset:()=>{window.DISQUS&&window.DISQUS.reset({reload:!0,config:function(){this.page.url=(()=>{const e=window.location.host;return`${window.location.protocol}//${e}${t.currentRoute.value.fullPath}`})()}})}});var r;e.provide("$disqus",a),s.shortName?(r=s.shortName,new Promise(((e,s)=>{const t=document.createElement("script");t.src=`//${r}.disqus.com/embed.js`,t.async=!0,t.setAttribute("data-timestamp",String(+new Date)),(document.head||document.getElementsByTagName("head")[0]).appendChild(t),t.onload=e,t.onerror=s}))).then((()=>{a.ready=!0})):console.warn("Missing disqus shortname")}};x.register(D,Y,B,C,$,U),S(ls).use(os).use(is,{shortName:"hiatus-hiatus"},os).use(a,{config:{id:"hiatus-hiatus"},bootstrap:!0},os).mount("#app");
